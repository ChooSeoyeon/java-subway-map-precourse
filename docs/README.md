# 기능 구현 목록

- 문서 안내 : (?)은 추론을 통해 추가한 기능입니다

## Model

### Station (역)

- [x] 이름(PK, UK)으로 역을 생성한다
    - [x] 이름이 두 글자 미만일 경우 예외를 발생시킨다

### Line (노선)

- [x] 이름(PK, UK)으로 노선을 생성한다
    - [x] 이름이 두 글자 미만일 경우 예외를 발생시킨다

### Registration (등록 정보)

- [x] 노선(PK, UK)과 역 목록으로 등록을 생성한다 (종점역을 노선에 등록)
    - [x] 등록할 역이 두 개 미만일 경우 예외를 발생시킨다
- [x] 역 목록의 특정 위치에 역을 추가한다
    - [x] 이미 목록에 존재하는 역을 추가할 경우 예외를 발생시킨다 (?)
    - [x] 역 목록의 범위를 벗어난 위치에 역을 추가할 경우 예외를 발생시킨다
- [x] 역 목록에서 역을 삭제한다
    - [x] 목록에 존재하지 않는 역을 삭제할 경우 예외를 발생시킨다
    - [x] (삭제 전) 역 목록에 역이 다 개 미만일 경우 예외를 발생시킨다

## Repository

### StationRepository (역 저장소)

- [x] 빈 역 목록으로 저장소를 생성한다
- [x] 역 목록을 조회한다
- [x] 역 목록을 초기화한다
- [x] 역을 저장한다 (역 목록에 역을 추가) (역 목록 예시 : 강남역, 신림역, 양재역, 보라매역)
    - [x] 중복된 역 이름인 경우 예외를 발생시킨다
- [x] 역 이름으로 역이 존재하는지 확인한다
- [x] 역 이름으로 역을 삭제한다 (역 목록에서 역을 제거)
    - [x] 존재하지 않는 역인 경우 예외를 발생시킨다
    - [x] 노선에 등록된 역인 경우 예외를 발생시킨다 (RegistrationRepository)
- [x] 역 이름으로 역을 조회한다

### LineRepository (노선 저장소)

- [x] 빈 노션 목록으로 저장소를 생성한다
- [x] 노선 목록을 조회한다
- [x] 노선 목록을 초기화한다
- [x] 노선을 저장한다 (노선 목록에 노선을 추가) (노선 목록 예시 : 2호선, 신분당선)
    - [x] 중복된 노선 이름인 경우 예외를 발생시킨다
- [x] 노선 이름으로 노선이 존재하는지 확인한다
- [x] 노선 이름으로 노선을 삭제한다 (노선 목록에서 노선을 제거)
    - [x] 존재하지 않는 노선인 경우 예외를 발생시킨다
- [x] 노선 이름으로 노선을 조회한다

### RegistrationRepository (등록 정보 저장소 == 노선의 구간 목록 저장소)

- [x] 빈 등록 정보 목록으로 저장소를 생성한다
- [x] 등록 목록을 조회한다
- [x] 등록 목록을 초기화한다
- [x] 등록 정보를 저장한다 (등록 정보 목록 예시 : { 2호선, [강남역, 신림역] } , { 신분당선, [강남역, 양재역] })행 -> 왼쪽 끝이 상행 종점
    - [x] 중복된 노선인 경우 예외를 발생시킨다
- [x] 노선으로 등록 정보가 존재하는지 확인한다
- [x] 역으로 등록 정보가 존재하는지 확인한다
- [x] 노선으로 등록 정보를 수정한다 (등록 정보 수정 예시 : { 2호선, [강남역, 신림역, 보라매역] }) (덮어씌우기)
- [x] 노선으로 등록 정보를 삭제한다
- [x] 노선으로 등록 정보를 조회한록

## Enums

### MainFunction

- [x] 메인 기능을 정의한다 (예시 : 1. 역 관리)

### SubFunction

- [ ] 서브 기능을 정의한다 (예시 : 2. 구간 등록)

## View

### InputView

- [x] 기능을 입력받는다
    - [x] 존재하지 않는 기능을 입력할 경우 예외를 발생시킨다
- [x] 역
    - [x] 등록할 역 이름을 입력받는다
    - [x] 삭제할 역 이름을 입력받는다
- [x] 노선
    - [x] 등록할 노선 이름을 입력받는다
    - [x] 삭제할 노선 이름을 입력받는다
- [ ] 구간
    - [ ] 구간을 등록할 노선 이름을 입력받는다
    - [ ] 구간에 등록할 역 이름을 입력받는다
    - [ ] 구간을 삭제할 노선 이름을 입력받는다
    - [ ] 구간에서 삭제할 역 이름을 입력받는다

### OutputView

- [x] 에러 메시지를 출력한다
- [x] 메인 기능을 출력한다
- [x] 서브 기능을 출력한다
- [x] 역
    - [x] 역 목록을 출력한다
    - [x] 역 등록 성공 메시지를 출력한다
    - [x] 역 삭제 성공 메시지를 출력한다
- [x] 노선
    - [x] 노선 목록을 출력한다
    - [x] 노선 등록 성공 메시지를 출력한다
    - [x] 노선 삭제 성공 메시지를 출력한다
- [ ] 구간
    - [ ] 전체 노선의 구간 목록(노선도)을 출력한다
    - [ ] 구간 등록 성공 메시지를 출력한다
    - [ ] 구간 삭제 성공 메시지를 출력한다

## SubwayMapController

- [x] 에러를 관리한다
- [x] 지하철 노선도 프로그램을 실행한다
    - [ ] 노선도 프로그램을 준비한다
    - [x] 노선도 프로그램을 시작한다
        - [x] 기능을 입력받는다
        - [x] 기능을 실행한다
    - [ ] 노선도 프로그램을 종료한다

# 부록

## 기능 요구사항 분석

- 지하철 역과 노선 관리하는 지하철 노선도 기능 구현
- 초기 설정
    - 역(교대역,강남...) 등록
    - 노선(2호선,3,신분당) 등록
    - 노선에 역을 등록
- 역 관련 기능
    - 등록
        - 중복된 역 이름 등록 불가
        - 2글자 미만 역 이름 등록 불가
    - 삭제 (노선에 등록된 역은 삭제 불가)
    - 목록 조회
- 노선 관련 기능
    - 등록
        - 중복된 노선 이름 등록 불가
        - 2글자 미만 노선 이름 등록 불가
        - 상행 종점역과 하행 종점역 입력 필수
    - 삭제
    - 목록 조회
- 노선에 등록된 역 관련 기능
    - 추가 (== 노선에 역을 추가 등록 == 구간 추가)
        - 하나의 역은 여러 노선에 추가 가능
        - 같은 노선에 같은 역은 중복 추가 불가 (?)
    - 삭제 (== 노선에 등록된 역을 삭제 == 구간 삭제)
        - 종점역이 제거될 경우 다음 역이 종점이 됨
        - 노선에 포함된 역이 두개 이하일 때는 역을 제거할 수 없음
    - 조회 (== 전체 구간 조회)
        - 상행 종점역부터 하행 종점역까지 연결된 순서대로 조회
- 예외 처리
    - 원하는 기능 입력
        - 존재하지 않는 기능
    - 역
        - 등록할 역 이름 입력
            - 중복된 역 이름
            - 2글자 미만 역 이름
        - 삭제할 역 이름 입력
            - 존재하지 않는 역 이름
            - 노선에 등록된 역 이름
    - 노선
        - 등록할 노선 이름 입력
            - 중복된 노선 이름
            - 2글자 미만 노선 이름
        - 등록할 노선의 종점역 이름 입력
            - 존재하지 않는 역 이름
        - 삭제할 노선 이름 입력
            - 존재하지 않는 노선 이름
    - 구간
        - 구간 추가할 노선 이름 입력
            - 존재하지 않는 노선 이름
        - 구간에 추가할 역 이름 입력
        - 구간 삭제할 노선 이름 입력
            - 존재하지 않는 노선 이름
        - 구간에서 삭제할 역 이름 입력
            - 노선에 포함된 역이 두 개 이하가 될 경우
            - 구간에 존재하지 않는 노선 이름

## 프로그래밍 요구사항 분석

- 입출력
    - 기대하는 출력 결과는 [INFO] 붙여서 출력한다
    - 에러 발생 시 [ERROR] 붙여서 출력한다 (에러 문구는 자유)
- 클래스
    - Model (객체)
        - Station (역)
        - Line (노선)
        - (*) 주의 : 기본 생성자 추가 불가, 인스턴스 변수인 name의 접근 제어자 변경 불가, setter 되도록이면 사용 X
    - Repository (저장소) : 객체 상태 관리, 저장 로직 여기에 구현
        - StationRepository (역 저장소)
        - LineRepository (노선 저장소)
        - (*) 주의 : XXXRepository 로 추가로 만들어도 됨, 자유롭게 수정 가능

## 스토리텔링식 설계

- 이야기 :
- 협력 : 요청과 응답
- 책임 : 하는 것(요청, 계산)과 아는 것
- 역할 : 책임의 집합(재사용성)

## 메모

- 관계
    - 역:노선 은 다:다 관계임 -> 중간에 등록 테이블 만들자
    - mainFunction:subFunction은 1:다 관계임 -> subFunction이 mainFunction을 가지자
- 플로우